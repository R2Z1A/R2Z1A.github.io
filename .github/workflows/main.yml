name: main

on:
  push:
    branches:
      - main  # default branch

jobs:
  decodermd:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          # If your repository depends on submodule, please see: https://github.com/actions/checkout
          submodules: recursive
  trigger-pages-build:
    needs: decodermd
    runs-on: ubuntu-latest
    steps:
      - name: Checkout private actions
        uses: actions/checkout@v4
        with:
          token: ${{ secrets.GITHUB_MACHINE_TOKEN }}
          repositories: my-org/example-action my-org/another-action@v3.1.0 my-org/third-action
      - name: Trigger pages build
        uses: ./.github/workflows/pagesBuild.yml  # 引用工作流
